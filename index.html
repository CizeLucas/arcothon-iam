<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Painel de Regulação</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="main-container">
      <header class="header">
        <h1>Painel de Regulação</h1>
        <div class="user-info">
          <span>Central de Regulação de Sobral</span>
        </div>
      </header>
      <main class="content">
        <div class="card">
          <h2>Fila de Espera - Cardiologia</h2>
          <div class="regulation-list">
            <a href="especialista.html" class="patient-card">
              <div class="patient-info">
                <span class="patient-name">José Almeida</span>
                <span class="patient-details">Origem: UBS Junco</span>
                <span class="patient-details"
                  >Motivo: Dor torácica atípica</span
                >
              </div>
              <div class="patient-status">
                <span class="status status-aprovado">Aprovado</span>
              </div>
            </a>

            <a href="especialista.html" id="joana-card" class="patient-card">
              <div class="patient-info">
                <span class="patient-name"><strong>Joana Silva</strong></span>
                <span class="patient-details"
                  ><strong>Origem: UBS Centro</strong></span
                >
                <span class="patient-details"
                  ><strong>Motivo: HAS não controlada / Cefaleia</strong></span
                >
              </div>
              <div class="patient-status">
                <span id="joana-status" class="status status-aguardando"
                  >Aguardando</span
                >
              </div>
            </a>

            <a href="especialista.html" class="patient-card">
              <div class="patient-info">
                <span class="patient-name">Maria Oliveira</span>
                <span class="patient-details">Origem: UBS Dom José</span>
                <span class="patient-details">Motivo: Síncope</span>
              </div>
              <div class="patient-status">
                <span class="status status-aguardando">Aguardando</span>
              </div>
            </a>
          </div>
        </div>
      </main>
    </div>

    <script>
      function approveReferral(event) {
        // Impede que o clique no botão ative o link do card
        event.preventDefault();
        event.stopPropagation();

        const statusCell = document.getElementById("joana-status");
        const approveBtn = document.getElementById("approve-btn");

        // Simula a mudança de status
        statusCell.textContent = "Aprovado";
        statusCell.className = "status status-aprovado";
        approveBtn.style.display = "none";

        // O redirecionamento foi removido daqui, pois agora o clique no card inteiro faz isso.
      }
    </script>
  </body>
</html>
